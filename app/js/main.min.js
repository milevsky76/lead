const timerDays=document.getElementById("timerDays"),timerHours=document.getElementById("timerHours"),timerMinutes=document.getElementById("timerMinutes"),timerSeconds=document.getElementById("timerSeconds");let countdownInterval;function updateCountdown(){const e=getDifference();e<=0&&void 0!==countdownInterval?clearInterval(countdownInterval):e>0&&(timerDays.innerText=addLeadingZero(Math.floor(e/864e5)),timerHours.innerText=addLeadingZero(Math.floor(e%864e5/36e5)),timerMinutes.innerText=addLeadingZero(Math.floor(e%36e5/6e4)),timerSeconds.innerText=addLeadingZero(Math.floor(e%6e4/1e3)))}function getDifference(){return new Date("2024-07-24T03:07:00")-new Date}function addLeadingZero(e){return(e<10?"0":"")+e}updateCountdown(),getDifference()>0&&(countdownInterval=setInterval(updateCountdown,1e3));const form=document.getElementById("subsForm"),popupOverlay=document.getElementById("popupOverlay"),popup=document.getElementById("popup"),popupTypeMessage=document.getElementById("popupTypeMessage"),popupMessage=document.getElementById("popupMessage"),popupCloseButton=document.getElementById("popupCloseButton"),popupCloseCross=document.getElementById("popupCloseCross");function validateEmail(e){return/\S+@\S+\.\S+/.test(e)}function showPopup(e="",o=""){popupTypeMessage.textContent=o+"!",popupMessage.textContent=e,document.body.classList.add("modal-open"),popupOverlay.classList.remove("hidden"),popup.classList.remove("hidden"),popupCloseButton.addEventListener("click",onPopupCloseHandler),popupCloseCross.addEventListener("click",onPopupCloseHandler)}function hiddenPopup(){popup.classList.add("hidden"),popupOverlay.classList.add("hidden"),document.body.classList.remove("modal-open"),popupCloseButton.removeEventListener("click",onPopupCloseHandler),popupCloseCross.removeEventListener("click",onPopupCloseHandler)}form.addEventListener("submit",(function(e){e.preventDefault();const o=document.getElementById("subsEmail");validateEmail(o.value)&&o.checkValidity()?fetch(getRandomResponseStatus(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.value})}).then((e=>{e.ok?showPopup("You have successfully subscribed to the email newsletter","success"):showPopup("An error occurred. Please try again later","error")})).catch((e=>{console.error("Error:",e),showPopup("An error occurred. Please try again later","error")})):showPopup("Invalid email address","error")}));const onPopupCloseHandler=function(){hiddenPopup()};function getRandomResponseStatus(){const e="https://run.mocky.io/v3/6379eb88-c99d-4874-9fdc-055234afd514",o="https://run.mocky.io/v3/02e38f75-27c6-4a7d-a69e-f50a9b0991e6";return Math.random()<.5?e:o}